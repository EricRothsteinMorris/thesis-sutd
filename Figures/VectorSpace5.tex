% Plot Vector Field in LaTeX using Tikz and Pgfplots
% http://latexdraw.com
% 19/10/2019, 19:35

\documentclass{standalone}

\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat = newest}
\usepgfplotslibrary{colormaps}

\def\modulus{sqrt(x^2+y^2)}

\begin{document}
    \begin{tikzpicture}
        \begin{axis}[
            xmin = -31, xmax = 31,
            ymin = -31, ymax = 31,
            zmin = 0, zmax = 1,
            axis equal image,
            xtick distance = 2,
            ytick distance = 2,
            view = {0}{90},
            scale = 2,
            %title = {\bf Vector Field $F = [-y,x]$},
            height=7cm,
            xlabel = {$x$},
            ylabel = {$y$},
            colormap/viridis,
            colorbar,
            colorbar style = {
                ylabel = {Vector Length}
            }
        ]
            \addplot3[
                point meta = {sqrt(x^2+y^2)},
                quiver = {
                    u = {2*x},  %3x
                    v = {2*y},  %3y
                    scale arrows = 1,
                },
                samples=10,
                quiver/colored = {mapped color},
                -stealth,
                domain = -10:10,
                domain y = -10:10,
            ] {0};
        \end{axis}
    \end{tikzpicture}
\end{document}